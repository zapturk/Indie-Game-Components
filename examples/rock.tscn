[gd_scene format=3 uid="uid://cig5do2osf3em"]

[ext_resource type="Texture2D" uid="uid://c62e372a44wo7" path="res://examples/assets/TestRock.png" id="1_7h54r"]
[ext_resource type="Script" uid="uid://7saybqldkj0m" path="res://addons/indie_game_components/components/movement/GridMoverComponent.gd" id="1_x8cwb"]

[sub_resource type="GDScript" id="GDScript_7h54r"]
script/source = "extends CharacterBody2D


@onready var mover = $GridMoverComponent

func _process(_delta):
	var input_dir = Vector2.ZERO
	
	if Input.is_action_pressed(\"ui_up\"):    
		input_dir = Vector2.UP
	if Input.is_action_pressed(\"ui_down\"):  
		input_dir = Vector2.DOWN
	if Input.is_action_pressed(\"ui_left\"):  
		input_dir = Vector2.LEFT
	if Input.is_action_pressed(\"ui_right\"): 
		input_dir = Vector2.RIGHT

	if input_dir != Vector2.ZERO:
		mover.move_to(input_dir)
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4byva"]
size = Vector2(16, 16)

[node name="Rock" type="CharacterBody2D" unique_id=1443253567]
script = SubResource("GDScript_7h54r")

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=1106302471]
texture_filter = 1
texture = ExtResource("1_7h54r")

[node name="GridMoverComponent" type="Node2D" parent="." unique_id=756665166]
script = ExtResource("1_x8cwb")
grid_size = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="." unique_id=280227500]
shape = SubResource("RectangleShape2D_4byva")
